# Statistics Project   
"Анализ продаж аптечной сети: проверка гипотез"   

## Описание проекта   
**Контекст**   
В условиях высокой конкуренции и необходимости повышения операционной эффективности аптечной сети, состоящей из восьми точек, расположенных в разных районах города, перед компанией стоит задача обоснованной оптимизации бизнес-процессов. При ограниченных ресурсах особенно важно понимать, какие факторы реально влияют на ключевые показатели — такие как выручка, средний чек и прибыльность.  

Для этого применяется методология статистического тестирования гипотез, позволяющая количественно оценить значимость различных источников вариации: формат оплаты, день недели, тип покупки (онлайн или офлайн), а также различия между аптеками, сотрудниками и поставщиками. Такой подход даёт возможность не опираться на предположения, а принимать решения, основанные на данных — например, в вопросах управления персоналом, ассортиментной политики или работы с поставщиками.  

Задача проекта заключается в формировании набора проверенных гипотез, каждая из которых помогает ответить на вопрос: где именно находятся точки роста и резервы для повышения эффективности сети.  

**Цель проекта**  
Цель проекта — с помощью методов статистического тестирования гипотез выявить ключевые факторы, влияющие на продажи и прибыльность аптечной сети.  
В рамках анализа проверяются гипотезы о влиянии формы оплаты, дней недели, типа закупки, скидок, а также различий между аптеками, сотрудниками и поставщиками.  
Используя методы статистического тестирования гипотез, анализируются, какие источники вариации в данных наиболее значимы — поставщик, сотрудник, аптека или категория прибыльности и т.д..  
  
**Период**  
Тестирование гипотез проводилось на данных о продажах за период с 1 мая по 9 июня 2022 года.  

## Данные  
Датасет представляет собой реальные исторические данные о продажах сети из 8 региональных аптек, расположенных в различных районах города. Данные представлены за период с 2022-05-01 по 2022-06-09 включительно и состоят из 22 колонкок и 45128 строк. Вся необходимая для работы информация о транзакциях содержится в таблице sales.

| Column                  | Description                             | Data Type      |
| :---------------------- | :-------------------------------------- | :------------- |
| DR_Dat 	                | дата покупки	                           | DATE           |
| DR_Tim 	                | время покупки	                          | TIME           |
| DR_NChk 	               | номер чека	                             | INT(4)         |
| DR_NDoc 	               | номер кассового документа	              | INT(4)         |
| DR_apt 	                | номер магазина (FK  shops)	             | INT(4)         |
| DR_Kkm 	                | номер кассового аппарата	               | INT(4)         |
| DR_TDoc 	               | вид документа	                          | VARCHAR(100)   |
| DR_TPay 	               | форма платежа (18  безнал, 15 нал)	     | INT(4)         |
| DR_CDrugs 	             | артикул товара	                         | INT(4)         |
| DR_NDrugs 	             | название товара	                        | VARCHAR(100)   |
| DR_Suppl 	              | поставщик	                              | VARCHAR(100)   |
| DR_Prod 	               | производитель	                          | VARCHAR(100)   |
| DR_Kol 	                | кол-во проданного товара                |	FLOAT(8)       |
| DR_CZak 	               | закупочная цена	                        | FLOAT(8)       |
| DR_CRoz 	               | розничная цена	                         | FLOAT(8)       |
| DR_SDisc 	              | сумма скидки	                           | FLOAT(8)       |
| DR_CDisc 	              | код скидки	                             | TEXT           |
| DR_BCDisc 	             | штрихкод скидки	                        | TEXT           |
| DR_TabEmpl 	            | табельный номер сотрудника (FK - employee)  |	INT(4)     |
| DR_Pos 	                | номер позиции в чеке	                   | INT(4)         |
| DR_VZak 	               | вид закупки (1 - обычный, 2 -  интернет-заказ)	| INT(4)  |

Комментарии к структуре чеков и расчёту скидок:  
- Одному чеку может соответствовать несколько строк в таблице продаж (1 товарная позиция = 1 строка). Чек можно определить как комбинацию dr_apt, dr_nchk, dr_dat.   
- Скидка (DR_SDisc) применяется не к каждой штуке товара (DR_Kol), а к итоговому количеству. Перемножать эти поля не нужно.   




## Гипотезы и результаты  
Проверяемые гипотезы  

| №  | Гипотеза и формулировки H₀ / H₁                                                                                                  | Результат         | Ноутбук              |
|----|----------------------------------------------------------------------------------------------------------------------------------|-------------------|----------------------|
| 1  | **Форма оплаты и средний чек**  <br> H₀: Средний чек не зависит от формы оплаты (наличные / безналичные). <br> H₁: Средний чек различается в зависимости от формы оплаты. | H₀ отвергнута     | [hypothesis_01.ipynb](https://github.com/Advantl/Statistics_project/blob/main/notebooks/hypothesis_01.ipynb)  |
| 2  | **День недели и продажи**  <br> H₀: Средний объём продаж одинаковый в разные дни недели. <br> H₁: Есть статистически значимые различия в продажах между днями. | H₀ не отвергнута  | [hypothesis_02.ipynb](https://github.com/Advantl/Statistics_project/blob/main/notebooks/hypothesis_02.ipynb)  |
| 3  | **Продажи по будням и выходным**  <br> H₀: Средний объём продаж по будням и выходным одинаковый. <br> H₁: Есть статистически значимые различия в продажах по будням и по выходным. | H₀ не отвергнута  | hypothesis_03.ipynb  |
| 4  | **Эффективность сотрудников**  <br> H₀: Средние продажи сотрудников не различаются. <br> H₁: Существуют статистически значимые различия в эффективности сотрудников. | H₀ отвергнута     | hypothesis_04.ipynb  |
| 5  | **Аптеки и выручка**  <br> H₀: Средний чек не зависит от аптеки. <br> H₁: Есть аптеки, у которых средний чек статистически выше/ниже. | H₀ отвергнута     | hypothesis_05.ipynb  |
| 6  | **Скидки и продажи**  <br> H₀: Скидки не оказывают значимого влияния на продажи. <br> H₁: Скидки увеличивают продажи (средний чек). | H₀ отвергнута     | hypothesis_06.ipynb  |
| 7  | **Тип закупки (обычная vs интернет-заказ)**  <br> H₀: Средний чек одинаковый для обычных покупок и интернет-заказов. <br> H₁: Средний чек различается для обычных покупок и интернет-заказов. | H₀ отвергнута     | hypothesis_07.ipynb  |
| 8  | **Различия в прибыли по поставщикам**  <br> H₀: Средняя прибыль от товаров разных поставщиков одинакова. <br> H₁: Средняя прибыль различается в зависимости от поставщика. | H₀ отвергнута     | hypothesis_08.ipynb  |
| 9  | **Доля прибыльных товаров у разных поставщиков**  <br> H₀: Доля товаров, приносящих положительную прибыль, одинакова для всех поставщиков. <br> H₁: Есть различия в доле прибыльных товаров между поставщиками. | H₀ отвергнута     | hypothesis_09.ipynb  |
| 10 | **Зависимость между поставщиком и категорией прибыльности**  <br> H₀: Категория прибыльности не зависит от поставщика. <br> H₁: Категория прибыльности зависит от поставщика. | H₀ отвергнута     | hypothesis_10.ipynb  |


- Гипотеза → Подготовка данных (формирование выборок, eda) →  Тест(Методы анализа, Кратко о применённых техниках, Проверка предпосылок, Параметрические/непараметрические тесты, Пост-хок анализ ) → Визуализация → Интерпретация → Бизнес инсайты подробно.

## Дальнейшие шаги
- Какие ещё гипотезы можно проверить

## Техническая информация о проекте
- Стек
  
**Структура репозитория**   
Statistics_project/  
├── config/   
│   └── config.ini # Основной конфигурационный файл - скрыт   
│      
├── etl/  
│   ├── __init__.py    
│   ├── db_connection.py  # Получение данных из SQL   
│   └── data_cleaner.py  # Очистка данных  
│  
├── notebooks/   
│ ├── hypothesis_01.ipynb   
│ ├── hypothesis_02.ipynb   
│ ├── hypothesis_03.ipynb  
│ ├── hypothesis_04.ipynb   
│ ├── hypothesis_05.ipynb   
│ ├── hypothesis_06.ipynb   
│ ├── hypothesis_07.ipynb   
│ ├── hypothesis_08.ipynb   
│ ├── hypothesis_09.ipynb    
│ └── hypothesis_10.ipynb   
│         
├── visualizations/ # графики и таблицы    
├── requirements.txt  # Зависимости    
└── README.md # Описание проекта    
  
- Как воспроизвести   


